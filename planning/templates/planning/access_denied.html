{% extends "index.html" %}

{% block title %}
Accès Restreint - {{ plan.titre|default:"Plan d'Action" }}
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="error-wrapper text-center animate-fade-in">
        <!-- Icône d'interdiction animée -->
        <div class="error-icon mb-4">
            <svg width="100" height="100" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="animate-bounce">
                <circle cx="12" cy="12" r="10" stroke="#ff6200" stroke-width="2"/>
                <path d="M15 9L9 15M9 9l6 6" stroke="#ff6200" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </div>

        <!-- Titre principal -->
        <h1 class="text-orange fw-bold mb-4 display-4 animate-slide-down">Accès Restreint</h1>

        <!-- Boîte de message d’accès refusé -->
        <div class="alert alert-danger shadow-lg p-5 mx-auto" role="alert" style="max-width: 600px;">
            <h3 class="fw-bold text-dark mb-3">{{ message|default:"Vous n’avez pas les droits nécessaires." }}</h3>
            <p class="text-muted mb-0">Cette section est réservée aux utilisateurs autorisés. Retournez à l’accueil ou contactez l’administrateur pour obtenir les permissions nécessaires.</p>
        </div>

        <!-- Bouton de retour -->
        <div class="mt-5 animate-fade-in-delay">
            <a href="{% url 'accueil' %}" class="btn btn-secondary btn-lg px-5 py-3 fw-bold text-uppercase">
                <i class="fas fa-home me-2"></i> Retour à l'accueil
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block style %}
<style>
    /* Couleurs et typographie */
    .text-orange { 
        color: #ff6200 !important; 
    }
    .text-dark { 
        color: #343a40 !important; 
    }
    .text-muted { 
        color: #6c757d !important; 
    }
    .fw-bold { 
        font-weight: 700; 
    }

    /* Conteneur principal */
    .error-wrapper {
        padding: 40px 20px;
        background: linear-gradient(135deg, rgba(255, 98, 0, 0.05) 0%, rgba(255, 255, 255, 1) 100%);
        border-radius: 20px;
        min-height: 60vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    /* Icône d’interdiction */
    .error-icon svg {
        transition: transform 0.3s ease;
    }
    .error-icon:hover svg {
        transform: scale(1.1);
    }

    /* Boîte d’alerte */
    .alert-danger {
        background-color: #fff5f5;
        border: 2px solid #f8d7da;
        color: #721c24;
        border-radius: 20px;
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .alert-danger::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(to right, #ff6200, #f8d7da);
    }
    .alert-danger:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    /* Bouton */
    .btn-secondary {
        background: linear-gradient(45deg, #6c757d, #8d959c);
        border: none;
        border-radius: 50px;
        padding: 12px 40px;
        font-size: 1.25rem;
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 1px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
    }
    .btn-secondary:hover {
        background: linear-gradient(45deg, #8d959c, #6c757d);
        transform: scale(1.05) translateY(-3px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        color: #fff;
    }
    .btn-secondary i {
        transition: transform 0.3s ease;
    }
    .btn-secondary:hover i {
        transform: translateX(-5px);
    }

    /* Ombre */
    .shadow-lg {
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
    }

    /* Animations */
    .animate-fade-in {
        animation: fadeIn 1s ease-in-out forwards;
    }
    .animate-fade-in-delay {
        animation: fadeIn 1.2s ease-in-out forwards 0.3s;
        opacity: 0;
    }
    .animate-slide-down {
        animation: slideDown 1s ease-in-out forwards;
    }
    .animate-bounce {
        animation: bounce 2s infinite;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    @keyframes slideDown {
        from { opacity: 0; transform: translateY(-30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-15px); }
        60% { transform: translateY(-7px); }
    }

    /* Responsivité */
    @media (max-width: 768px) {
        .error-wrapper {
            padding: 20px 10px;
            min-height: 50vh;
        }
        .error-icon svg {
            width: 80px;
            height: 80px;
        }
        h1.display-4 {
            font-size: 2.5rem;
        }
        .alert-danger {
            padding: 20px;
        }
        .btn-secondary {
            padding: 10px 30px;
            font-size: 1rem;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<!-- Inclure FontAwesome pour les icônes (optionnel, à ajouter dans ton projet si pas déjà fait) -->
<script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
{% endblock %}