{% extends 'index.html' %}
{% load static %}
{% block content %}
<div class="container my-5">
    <div class="text-center mb-4">
        <h1 class="text-primary">Ministère des Finances et du Budget de Côte d'Ivoire</h1>
        <p class="lead">Découvrez l'organisation et les missions du Ministère des Finances et du Budget de la Côte d'Ivoire.</p>
    </div>

    <!-- Section: Présentation générale -->
    <section class="mb-5">
        <div class="row align-items-center">
            <div class="col-md-6">
                <img src="{% static 'general/images/fmi.jpg' %}" class="img-fluid rounded shadow" alt="Ministère des Finances">
            </div>
            <div class="col-md-6">
                <h2 class="text-success">Présentation Générale</h2>
                <p>
                    Le Ministère des Finances et du Budget de Côte d'Ivoire est chargé de l'élaboration, de la mise en 
                    œuvre et du suivi des politiques économiques, financières et budgétaires de l'État. Il veille à assurer 
                    une gestion efficiente et transparente des ressources publiques, en alignant les stratégies budgétaires 
                    sur les objectifs de développement national.
                </p>
                <p>
                    Acteur clé de la stabilité macroéconomique et de la croissance inclusive, le ministère assure la 
                    mobilisation des recettes fiscales et non fiscales, la gestion de la dette publique, ainsi que 
                    l'allocation optimale des ressources aux différents secteurs prioritaires. Il joue également un rôle 
                    stratégique dans l'attraction des investissements, la promotion du climat des affaires et la 
                    mise en place de réformes économiques visant à renforcer la compétitivité du pays.
                </p>      
            </div>
        </div>
    </section>

    <!-- Section: Missions -->
    <section class="mb-5 bg-light p-4 rounded">
        <h2 class="text-center text-warning">Missions</h2>
        <div class="row text-center">
            <div class="col-md-4">
                <i class="fas fa-chart-line fa-3x text-primary mb-3"></i>
                <h5>Gestion Économique</h5>
                <p>Élaboration et exécution des politiques économiques pour un développement durable.</p>
            </div>
            <div class="col-md-4">
                <i class="fas fa-coins fa-3x text-success mb-3"></i>
                <h5>Mobilisation des Ressources</h5>
                <p>Optimisation des recettes fiscales et douanières.</p>
            </div>
            <div class="col-md-4">
                <i class="fas fa-file-invoice-dollar fa-3x text-danger mb-3"></i>
                <h5>Gestion Budgétaire</h5>
                <p>Préparation et exécution du budget de l'État.</p>
            </div>
        </div>
    </section>

    <!-- Section: Organigramme -->
    <section>
        <h2 class="text-center text-info">Organisation</h2>
        <div id="organigramme" class="my-4">
            <div class="tree">
                <div class="level">
                    <div class="node bg-primary text-white">Ministre des Finances et du Budget</div>
                </div>
                <div class="level">
                    <div class="node bg-success text-white">Secrétariat Général</div>
                    <div class="node bg-success text-white">Trésor Public</div>
                    <div class="node bg-success text-white">Direction Générale des Impôts</div>
                </div>
                <div class="level">
                    <div class="node bg-secondary text-white">Direction des Études et Statistiques</div>
                    <div class="node bg-secondary text-white">Direction des Ressources Humaines</div>
                    <div class="node bg-secondary text-white">Direction des Finances Publiques</div>
                    <div class="node bg-secondary text-white">Direction des Recettes</div>
                </div>
            </div>
        </div>
    </section>
</div>

<style>
.tree {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 40px;
    position: relative;
}

.level {
    display: flex;
    justify-content: center;
    gap: 60px;
    position: relative;
}

.node {
    padding: 15px 25px;
    border-radius: 12px;
    text-align: center;
    font-weight: bold;
    transition: transform 0.3s, box-shadow 0.3s;
    cursor: pointer;
    max-width: 250px;
    word-wrap: break-word;
    position: relative;
    background-color: #4e73df;
    box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.2);
}

/* Hover effect for nodes */
.node:hover {
    transform: scale(1.1);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

/* Connect lines between nodes */
.level::before {
    content: '';
    position: absolute;
    top: -25px;
    left: 50%;
    width: 2px;
    height: 20px;
    background-color: #333;
    z-index: -1;
}

/* Fine lines connecting nodes horizontally */
.level > .node::before, .level > .node::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 40px;
    height: 2px;
    background-color: #333;
    z-index: -1;
}

/* Positioning the left and right connecting lines */
.level > .node::before {
    left: -40px;
}

.level > .node::after {
    right: -40px;
}

/* Additional styling for levels */
.level > .node:first-child::before {
    content: none;
}

.level > .node:last-child::after {
    content: none;
}

/* Remove the first vertical line in the organization */
.tree .level:first-child::before {
    content: none;
}
</style>

<script>
    document.querySelectorAll('.node').forEach(node => {
        node.addEventListener('click', () => {
            alert(`Vous avez sélectionné: ${node.textContent}`);
        });
    });
</script>

{% endblock %}
