{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center mb-4">ðŸ“Š  <strong>Statistiques du TOFE</strong></h2>

    {% if error %}
        <div class="alert alert-danger text-center">{{ error }}</div>
    {% else %}
        <div class="row text-white">
            <div class="col-md-4">
                <div class="card bg-success shadow-lg p-3 text-center">
                    <h5><i class="fas fa-coins"></i> Total Recettes</h5>
                    <p class="display-6">{{ stats.total_recettes|floatformat:3 }} <br> millions CFA</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card bg-danger shadow-lg p-3 text-center">
                    <h5><i class="fas fa-shopping-cart"></i> Total DÃ©penses</h5>
                    <p class="display-6">{{ stats.total_depenses|floatformat:2 }} <br> millions CFA</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card {% if stats.solde_budgetaire >= 0 %}bg-primary{% else %}bg-warning{% endif %} shadow-lg p-3 text-center">
                    <h5><i class="fas fa-balance-scale"></i> Solde BudgÃ©taire</h5>
                    <p class="display-6">{{ stats.solde_budgetaire|floatformat:2 }} <br> millions CFA</p>
                </div>
            </div>
        </div>

        <h3 class="mt-5 text-center">ðŸ“„ DonnÃ©es du fichier</h3>
        <div class="table-responsive mt-3 p-3 bg-light border rounded shadow">
            {{ donnees_html|safe }}
        </div>
    {% endif %}
</div>
{% endblock %}
